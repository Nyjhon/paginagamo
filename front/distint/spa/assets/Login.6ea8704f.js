import{o as d,c as p,w as r,e as o,a as i,k as n,l as m,Q as u,j as f}from"./index.60323709.js";import{Q as g}from"./QForm.16a89fc1.js";import{Q as c}from"./QLayout.e0e42f02.js";import{g as h}from"./globalStore.2a063993.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";const v={name:"LoginPage",data(){return{email:"",usuario:{},TypePassword:!0,name:"",password:"",remember:!1,typePassword:!0,loading:!1,store:h()}},mounted(){this.store.isLoggedIn&&this.$router.push("/login")},methods:{login(){this.loading=!0,this.$api.post("login",{email:this.email,password:this.password}).then(t=>{this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),this.store.user=t.data.user,this.store.isLoggedIn=!0,this.$api.defaults.headers.common.Authorization="Bearer "+t.data.token,localStorage.setItem("token",t.data.token),this.$router.push("/inicio/adm")}).catch(t=>{this.$q.notify({message:t.response.data.message,color:"negative",position:"top",timeout:2e3})}).finally(()=>{this.loading=!1})}}},y={class:"wrapper"},I={id:"formContent"};function _(t,e,b,k,s,l){return d(),p(c,{view:"hHr LpR lFf",class:"background-image"},{default:r(()=>[o("div",y,[o("div",I,[e[3]||(e[3]=o("div",{class:"row"},[o("div",{class:"col-12"},[o("img",{class:"imagen fadeIn first",src:"img/gamo.png",id:"icon",alt:"User Icon"})])],-1)),e[4]||(e[4]=o("div",{class:"row"},[o("div",{class:"col-12"},[o("h2",{class:"texth2 fadeIn first"},"ADMINISTRACI\xD3N DE LA PAGINA WEB G.A.M.O.")])],-1)),i(g,{onSubmit:f(l.login,["prevent"])},{default:r(()=>[i(n,{id:"login",class:"edit1 fadeIn first",name:"login",placeholder:"Correo",modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=a=>s.email=a),type:"email"},null,8,["modelValue"]),i(n,{type:s.typePassword?"password":"text",id:"password",class:"edit1 fadeIn first",name:"login",placeholder:"Contrase\xF1a",modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=a=>s.password=a),required:""},{append:r(()=>[i(m,{onClick:e[1]||(e[1]=a=>s.typePassword=!s.typePassword),name:s.typePassword?"visibility":"visibility_off"},null,8,["name"])]),_:1},8,["type","modelValue"]),i(u,{type:"submit",class:"boton1 fadeIn first",label:"INGRESAR"})]),_:1},8,["onSubmit"])])])]),_:1})}var x=w(v,[["render",_]]);export{x as default};
